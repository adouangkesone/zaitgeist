<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Zaitgeist — sign up for beta</title>

  <link rel="preconnect" href="https://fonts.googleapis.com"/>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;800&display=swap" rel="stylesheet"/>

  <style>
    :root{
      --ink:#2b2b2b;
      --accent-1:#9a6dd7;
      --accent-2:#cc77b9;
      --bg1:#f6f1ff;
      --bg2:#f1fff6;
      --bg3:#fff6f1;
      --radius:14px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:Montserrat,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
      color:var(--ink);
      background:
        radial-gradient(1100px 800px at 30% 20%, var(--bg1), transparent 60%),
        radial-gradient(1200px 900px at 70% 80%, var(--bg2), transparent 60%),
        radial-gradient(900px 700px at 50% 55%, var(--bg3), transparent 60%),
        #fff;
      animation: drift 18s ease-in-out infinite alternate;
    }
    @keyframes drift{
      0%{background-position:30% 20%,70% 80%,50% 55%}
      100%{background-position:35% 25%,65% 75%,48% 52%}
    }

    .page{
      max-width:880px;
      margin:0 auto;
      padding:28px 24px 80px;
    }
    header{
      display:flex;align-items:center;gap:12px;margin-bottom:16px;
    }
    .brand-logo{height:56px;width:auto;display:block}
    h1{
      font-weight:800;
      font-size:clamp(40px,7vw,72px);
      line-height:1.05;
      letter-spacing:.2px;
      margin:28px 0 8px;
      text-wrap:balance;
    }
    .sub{font-size:clamp(18px,2.4vw,24px);opacity:.85;margin:0 0 24px}

    form{
      margin-top:18px;
    }
    label{
      display:block;
      font-weight:600;
      font-size:16px;
      margin:18px 0 8px;
    }
    input[type="email"], select{
      width:100%;
      padding:14px 16px;
      border-radius:var(--radius);
      border:1px solid rgba(0,0,0,.14);
      background:#fff;
      font-size:16px;
      outline:none;
    }
    /* multi-select height */
    select[multiple]{height:180px}
    .hint{font-size:14px;opacity:.7;margin-top:6px}

    button{
      margin-top:18px;
      padding:12px 20px;
      border-radius:var(--radius);
      border:0;
      font-weight:700;
      cursor:pointer;
      background:linear-gradient(135deg,var(--accent-1),var(--accent-2));
      color:#fff;
      box-shadow:0 10px 24px rgba(153,102,204,.30);
    }
    button:active{transform:translateY(1px)}

    .alert{display:none;margin-top:14px;font-size:15px}
    .ok{color:#135d2f}
    .err{color:#8b1c1c}
    .note{font-size:13px;opacity:.65;margin-top:16px}

    /* mobile tweaks */
    @media (max-width:640px){
      .brand-logo{height:48px}
      .page{padding:20px 16px 64px}
    }
  </style>

  <meta property="og:title" content="Zaitgeist — sign up for beta"/>
  <meta property="og:description" content="Want to explore deeper? Join the Zaitgeist beta."/>
  <meta property="og:type" content="website"/>
  <meta name="theme-color" content="#8b4ea9"/>
</head>
<body>
  <div class="page">
    <header>
      <img src="assets/logo.png" alt="Zaitgeist" class="brand-logo">
    </header>

    <h1>want to explore deeper?</h1>
    <p class="sub">sign up for beta</p>

    <form id="betaForm" novalidate>
      <label for="email">email</label>
      <input id="email" name="email" type="email" required placeholder="you@example.com">
      <div class="hint">we’ll only use this to contact you about the beta.</div>

      <label for="interest">where do you want zaitgeist to lead you?</label>
      <!-- MULTI-SELECT -->
      <select id="interest" name="interest" multiple>
        <option>In-person Events</option>
        <option>Classes</option>
        <option>Research Insights</option>
        <option>New Artists</option>
        <option>Community Organizations</option>
      </select>

      <button type="submit">Submit</button>

      <div id="ok" class="alert ok">Thanks! You’re on the list.</div>
      <div id="err" class="alert err">Something went wrong. Please try again.</div>
      <p class="note">By submitting, you agree to receive occasional emails about Zaitgeist.</p>
    </form>
  </div>

  <script>
    // Your deployed Apps Script URL ("Anyone with the link")
    const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbxDIV0lxbUZvJmEI_6ltxENkmCbGmFvYnfzeParnOCdker-SZVs1yTtsnVpr9msHO4T/exec";

    const form = document.getElementById('betaForm');
    const ok = document.getElementById('ok');
    const err = document.getElementById('err');

    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      ok.style.display = 'none';
      err.style.display = 'none';

      const email = document.getElementById('email').value.trim();

      // collect multi-select values
      const select = document.getElementById('interest');
      const selections = Array.from(select.selectedOptions).map(o => o.value);
      const interestStr = selections.join(', ');

      if (!email || selections.length === 0){
        err.textContent = "Please fill out all fields.";
        err.style.display = 'block';
        return;
      }

      try{
        const res = await fetch(SCRIPT_URL, {
          method: 'POST',
          mode: 'cors',
          headers: {'Content-Type': 'application/json'},
          body: JSON.stringify({
            Email: email,
            "where do you want zaitgeist to lead you?": interestStr
          })
        });

        if (res.ok){
          form.reset();
          ok.style.display = 'block';
        } else {
          const txt = await res.text().catch(()=> '');
          err.textContent = 'Error: ' + (txt || res.status + ' ' + res.statusText);
          err.style.display = 'block';
        }
      }catch(ex){
        err.textContent = 'Network error. Please try again.';
        err.style.display = 'block';
      }
    });
  </script>
</body>
</html>
